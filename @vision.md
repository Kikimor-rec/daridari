# Техническое видение проекта

## 1. Технологии
- **Next.js 14 (App Router)** — базовый фреймворк с готовой интеграцией с Vercel, поддержкой SSR/SSG и достаточной гибкостью для портфолио.
- **TypeScript** — типизация "по умолчанию" без усложнения конфигурации; при необходимости можно отключить на ранних этапах, но стартуем с ним для устойчивости.
- **Tailwind CSS** — позволяет быстро собирать адаптивные интерфейсы без тяжёлых UI-библиотек.
- **Встраиваемые сервисы для медиа** — YouTube/SoundCloud/Spotify embeds вместо собственной доставки аудио/видео на MVP-этапе.
- **Форма обратной связи через Vercel Serverless Function** (или временно через Formspree/Resend) — минимальный живой backend без отдельного сервера.
- **Vercel Analytics** (по мере готовности) — базовая метрика посещаемости без дополнительных сетапов.

## 2. Принцип разработки
- Строим MVP итерациями: каждая задача приносит видимый результат (страница или раздел), сразу доступный на preview-деплое Vercel.
- Приоритет минимальному функционалу: сначала закрываем обязательные страницы (главная, портфолио, цены, контакты), расширение — после проверки гипотез.
- Используем встроенные возможности Next.js (App Router, маршрутизация, метаданные) без дополнительной обвязки.
- Новые зависимости подключаем только при явной необходимости; избегаем сложных интеграций на старте.
- Preview-деплой Vercel служит основным smoke-тестом; локально достаточно базовых проверок (lint/build) по мере надобности.

## 3. Структура проекта
```
project-root/
├─ app/
│  ├─ layout.tsx          # Общий layout, метаданные, шапка/подвал
│  ├─ page.tsx            # Главная страница
│  ├─ portfolio/page.tsx  # Портфолио
│  ├─ pricing/page.tsx    # Цены и пакеты
│  └─ contact/page.tsx    # Контакты и форма связи
├─ components/            # Переиспользуемые компоненты (навигация, карточки, плеер)
├─ lib/
│  └─ data.ts             # Статические данные (портфолио, прайс) в виде массивов
├─ styles/
│  └─ globals.css         # Tailwind base + кастомные стили
├─ public/                # Статические ассеты (логотип, изображения)
├─ package.json
├─ tailwind.config.ts
└─ tsconfig.json
```
- Дополнительные разделы (например, blog/) добавляем только после подтверждения востребованности.
- Все данные в MVP храним в `lib/data.ts`, без подключения внешней CMS.

## 4. Архитектура проекта
- **Презентационный слой**: страницы App Router рендерят данные, импортируя статические массивы из `lib/data.ts`. Глобальных сто́ров нет.
- **Компоненты**: простые stateless-блоки (карточки портфолио, блок цен, кнопки CTA), которые принимают данные через props и стилизуются Tailwind-классами.
- **Контент**: весь контент MVP — в коде (`lib/data.ts`). Для обновления контента достаточно коммита и авто-деплоя.
- **Контактная форма**: форма отправляет запрос на API-роут (`app/api/contact/route.ts`). Роут либо вызывает внешний сервис (Resend/Formspree) для отправки письма, либо возвращает заглушку в ранних спринтах.
- **Медиа**: YouTube/SoundCloud/Spotify embeds подключаются напрямую на клиенте; дополнительных сервисов не требуется.
- **SEO/метаданные**: используем встроенные механизмы Next.js (`metadata` в layout и `generateMetadata` при необходимости).
- **Аналитика**: Vercel Analytics подключается как лёгкий компонент, включаем после MVP.

Потоки данных:
1. Пользователь открывает страницу → Next.js отдаёт SSR/SSG контент, считывая статические данные.
2. Пользователь отправляет форму → fetch к API-роуту → вызов выбранного почтового сервиса → ответ пользователю (успех/ошибка).

## 5. Модель данных
- `PortfolioItem`: карточка работы (id, название, описание, категория, ссылка на медиа, опционально клиент/год).
- `PricingPackage`: пакет услуг (id, название, цена строкой, сроки, перечисление преимуществ, доп. заметка).
- `Testimonial`: отзыв (id, автор, роль, цитата) — добавим при наличии контента.
- `ContactRequest`: структура, которую принимает API-роут (имя, email, тип проекта, бюджет опционально, сообщение).
- Все данные (кроме заявок) лежат в `lib/data.ts` в виде массивов; заявки уходят через API-роут наружу, локально не сохраняются.

## 6. Сценарии работы
1. **Просмотр портфолио**: пользователь переходит на страницу `portfolio`, скроллит карточки, при клике запускает встроенный медиаплеер или открывает ссылку в новом окне.
2. **Изучение цен**: из меню или CTA попадает на `pricing`, сравнивает пакеты, переходит к форме связи.
3. **Отправка заявки**: на странице `contact` заполняет форму; после отправки получает подтверждение, данные уходят через API-роут на почту композитора.
4. **Знакомство с композитором**: на главной видит интро и блок "Обо мне" с ключевыми достижениями/логотипами клиентов.
5. **Обновление контента** (внутренний): правим данные в `lib/data.ts`, коммитим и пушим — Vercel автоматически деплоит обновление.

## 7. Деплой
- Хостинг: только Vercel.
- Репозиторий подключён к Vercel; пуш в `main` запускает прод-деплой, ветки и PR создают preview-среды.
- Конфигурация по умолчанию: Vercel сам выполняет `npm install && npm run build`, дополнительных шагов не требуется.
- Секреты (API-ключи почтового сервиса и т.п.) храним в Vercel Environment Variables, разделяя Production и Preview.
- На старте используем домен `<project>.vercel.app`, при необходимости позже подключаем собственный домен.
- Наблюдаем за состоянием через Vercel Dashboard; метрики — через Vercel Analytics (подключим после MVP).

## 8. Подход к конфигурированию
- Держим стандартный `next.config.js`; добавляем его только при необходимости точечных правок.
- Tailwind-конфиг минимальный (`tailwind.config.ts` + `postcss.config.js`), пути ограничены `app`, `components`, `lib`.
- Переменные окружения: `.env.local` для разработки, Vercel Environment Variables для проекта (Production/Preview).
- `tsconfig.json` базовый от Next.js, без дополнительных alias и усложнённых правил.
- ESLint — дефолтный `eslint-config-next`; Prettier подключаем по желанию, не обязательно на старте.
- В `package.json` оставляем только нужные скрипты: `dev`, `build`, `start`, `lint`.

## 9. Подход к логгированию
- На клиенте избегаем лишних логов; в продакшене `console` не используем.
- В API-роуте (`app/api/contact/route.ts`) оставляем минимальные `console.log`/`console.error` для фиксации факта отправки или ошибки (без хранения PII).
- Просматриваем логи через Vercel Function Logs; этого достаточно для MVP.
- При масштабировании можно подключить специализированный сервис, но на старте он не требуется.
